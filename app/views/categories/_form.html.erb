<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card p-4 shadow-sm">
        <%= form_with model: @category, local: true, class: "needs-validation", novalidate: true do |form| %>
          <div class="mb-3">
            <%= form.label :title, class: "form-label" %>
            <%= form.text_field :title, class: "form-control", required: true %>
            <div class="invalid-feedback">
              Please provide a title.
            </div>
          </div>

          <div class="mb-3">
            <%= form.label :description, class: "form-label" %>
            <%= form.text_field :description, class: "form-control", required: true %>
            <div class="invalid-feedback">
              Please provide a description.
            </div>
          </div>

          <div class="mb-3">
            <%= form.label :image, class: "form-label" %>
            <%= form.file_field :image, class: "form-control", required: true %>
            <div class="invalid-feedback">
              Please upload an image.
            </div>
          </div>

          <div class="mb-3">
            <%= form.fields_for :posts do |posts_form| %>
              <%= render "categories/post_fields", form: posts_form %>
            <% end %>
            <div class="mt-2">
              <%= link_to_add_association 'add a Post', form, :posts, form_name: "form",class: "btn btn-outline-primary" %>
            </div>
          </div>

          <div class="mt-4">
            <%= form.submit class: "btn btn-primary w-100" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
